<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <!-- Dark theme colors (navy/xám dịu mắt) -->
  <Color x:Key="ShellBackgroundColor">#050816</Color>
  <Color x:Key="PanelBackgroundColor">#0B1120</Color>
  <Color x:Key="PanelBorderColor">#1F2937</Color>
  <Color x:Key="CardBackgroundColor">#111827</Color>
  <Color x:Key="CardHighlightColor">#111827</Color>
  <Color x:Key="AccentColor">#3B82F6</Color>
  <Color x:Key="AccentMutedColor">#2563EB</Color>

  <!-- Colors used by default WPF templates (ComboBox, ScrollBar, etc.) -->
  <Color x:Key="ControlLightColor">#111827</Color>
  <Color x:Key="ControlMediumColor">#0F172A</Color>
  <Color x:Key="BorderLightColor">#4B5563</Color>
  <Color x:Key="BorderDarkColor">#374151</Color>
  <Color x:Key="BorderMediumColor">#374151</Color>
  <Color x:Key="ControlMouseOverColor">#111827</Color>
  <Color x:Key="ControlPressedColor">#020617</Color>
  <Color x:Key="DisabledControlDarkColor">#111827</Color>
  <Color x:Key="DisabledBorderDarkColor">#4B5563</Color>
  <Color x:Key="DisabledForegroundColor">#6B7280</Color>
  <Color x:Key="SelectedBackgroundColor">#1D2A3F</Color>
  <Color x:Key="SelectedUnfocusedColor">#111827</Color>
  <Color x:Key="GlyphColor">#FFFFFF</Color>

  <Color x:Key="ControlBackgroundColor">#111827</Color>
  <Color x:Key="ControlBorderColor">#374151</Color>
  <Color x:Key="ControlForegroundColor">#E5E7EB</Color>

  <!-- Dark theme brushes -->
  <SolidColorBrush x:Key="ShellBackgroundBrush" Color="{StaticResource ShellBackgroundColor}" />
  <SolidColorBrush x:Key="PanelBackgroundBrush" Color="{StaticResource PanelBackgroundColor}" />
  <SolidColorBrush x:Key="PanelBorderBrush" Color="{StaticResource PanelBorderColor}" />
  <!-- Card phẳng, không dùng gradient để giao diện tối đơn giản hơn -->
  <SolidColorBrush x:Key="CardBackgroundBrush" Color="{StaticResource CardBackgroundColor}" />
  <SolidColorBrush x:Key="CardBorderBrush" Color="{StaticResource PanelBorderColor}" />
  <SolidColorBrush x:Key="AccentBrush" Color="{StaticResource AccentColor}" />
  <SolidColorBrush x:Key="AccentMutedBrush" Color="{StaticResource AccentMutedColor}" />
  <SolidColorBrush x:Key="TextPrimaryBrush" Color="{StaticResource ControlForegroundColor}" />
  <!-- Secondary text dùng xám trung tính, ít ám màu hơn cho dễ nhìn -->
  <SolidColorBrush x:Key="TextSecondaryBrush" Color="#9CA3AF" />
  <SolidColorBrush x:Key="ErrorBrush" Color="#FF5555" />

  <!-- Main window (Alt+Space) specific brushes -->
  <SolidColorBrush x:Key="MainSearchForegroundBrush" Color="{StaticResource ControlForegroundColor}" />
  <SolidColorBrush x:Key="MainSearchPlaceholderBrush" Color="#66FFFFFF" />
  <SolidColorBrush x:Key="MainHotkeyHintBrush" Color="#66FFFFFF" />
  <SolidColorBrush x:Key="MainResultTitleBrush" Color="{StaticResource ControlForegroundColor}" />
  <SolidColorBrush x:Key="MainResultSubtitleBrush" Color="#99FFFFFF" />
  <SolidColorBrush x:Key="MainResultBadgeBackgroundBrush" Color="#10FFFFFF" />
  <SolidColorBrush x:Key="MainResultBadgeBorderBrush" Color="#33FFFFFF" />
  <SolidColorBrush x:Key="MainResultBadgeForegroundBrush" Color="#CCFFFFFF" />
  <SolidColorBrush x:Key="MainResultItemHoverBackgroundBrush" Color="#FF222222" />
  <SolidColorBrush x:Key="MainResultItemSelectedBackgroundBrush" Color="#222244" />
  <SolidColorBrush x:Key="MainStatusBackgroundBrush" Color="#181818" />
  <SolidColorBrush x:Key="MainStatusBorderBrush" Color="#282828" />
  <SolidColorBrush x:Key="MainStatusForegroundBrush" Color="#CCFFFFFF" />
  <SolidColorBrush x:Key="MainEmptyStateBrush" Color="#66FFFFFF" />
  <SolidColorBrush x:Key="MainLoadingTextBrush" Color="#88FFFFFF" />
  <SolidColorBrush x:Key="MainLoadingBarBackgroundBrush" Color="#22FFFFFF" />
  <SolidColorBrush x:Key="MainScrollTrackBrush" Color="#0B1222" />
  <SolidColorBrush x:Key="MainScrollThumbBrush" Color="#2C3754" />
  <SolidColorBrush x:Key="MainScrollThumbHoverBrush" Color="#3C4D71" />

  <!-- Settings specific brushes -->
  <SolidColorBrush x:Key="SettingsSectionBackgroundBrush" Color="{StaticResource PanelBackgroundColor}" />
  <SolidColorBrush x:Key="SettingsSectionBorderBrush" Color="{StaticResource PanelBorderColor}" />
  <SolidColorBrush x:Key="SettingsScrollTrackBrush" Color="#181818" />
  <SolidColorBrush x:Key="SettingsScrollThumbBrush" Color="#404040" />
  <SolidColorBrush x:Key="SettingsScrollThumbHoverBrush" Color="#606060" />
  <!-- Sidebar navigation brushes -->
  <SolidColorBrush x:Key="SettingsNavBackgroundBrush" Color="{StaticResource PanelBackgroundColor}" />
  <SolidColorBrush x:Key="SettingsNavItemHoverBrush" Color="#1AFFFFFF" />
  <SolidColorBrush x:Key="SettingsNavItemActiveBrush" Color="#283144" />
  <SolidColorBrush x:Key="SettingsNavItemActiveBorderBrush" Color="{StaticResource AccentColor}" />

  <!-- Override system colors for dark theme so default control chrome matches app theme -->
  <SolidColorBrush x:Key="{x:Static SystemColors.ControlBrushKey}" Color="{StaticResource ControlBackgroundColor}" />
  <SolidColorBrush x:Key="{x:Static SystemColors.ControlDarkBrushKey}" Color="#262626" />
  <SolidColorBrush x:Key="{x:Static SystemColors.ControlLightBrushKey}" Color="#333333" />
  <SolidColorBrush x:Key="{x:Static SystemColors.ControlTextBrushKey}" Color="{StaticResource ControlForegroundColor}" />
  <SolidColorBrush x:Key="{x:Static SystemColors.GrayTextBrushKey}" Color="#888888" />
  <!-- Không dùng AccentColor cho Highlight để tránh dải nền xanh hệ thống -->
  <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="{StaticResource ControlBackgroundColor}" />
  <SolidColorBrush x:Key="{x:Static SystemColors.HighlightTextBrushKey}" Color="{StaticResource ControlForegroundColor}" />
  <SolidColorBrush x:Key="{x:Static SystemColors.WindowBrushKey}" Color="{StaticResource ControlBackgroundColor}" />
  <SolidColorBrush x:Key="{x:Static SystemColors.ScrollBarBrushKey}" Color="#303030" />

  <!-- Button brushes -->
  <SolidColorBrush x:Key="ButtonBackgroundBrush" Color="#2A2A2A" />
  <SolidColorBrush x:Key="ButtonBorderBrush" Color="#555555" />
  <SolidColorBrush x:Key="ButtonBackgroundHoverBrush" Color="#333333" />
  <SolidColorBrush x:Key="ButtonBorderHoverBrush" Color="#777777" />
  <SolidColorBrush x:Key="ButtonBackgroundPressedBrush" Color="#222222" />
  <SolidColorBrush x:Key="ButtonBorderPressedBrush" Color="#999999" />

  <SolidColorBrush x:Key="PrimaryButtonBackgroundBrush" Color="{StaticResource AccentColor}" />
  <SolidColorBrush x:Key="PrimaryButtonBorderBrush" Color="#4C8DFF" />

  <SolidColorBrush x:Key="ControlBackgroundBrush" Color="{StaticResource ControlBackgroundColor}" />
  <SolidColorBrush x:Key="ControlBorderBrush" Color="{StaticResource ControlBorderColor}" />
  <SolidColorBrush x:Key="ControlForegroundBrush" Color="{StaticResource ControlForegroundColor}" />

  <!-- Base control styles for dark mode -->
  <Style TargetType="TextBox">
    <Setter Property="Background" Value="{StaticResource ControlBackgroundBrush}" />
    <Setter Property="BorderBrush" Value="{StaticResource ControlBorderBrush}" />
    <Setter Property="Foreground" Value="{StaticResource ControlForegroundBrush}" />
  </Style>

  <!-- Vertical ScrollBar for main Alt+Tab window -->
  <Style x:Key="MainVerticalScrollBarStyle" TargetType="ScrollBar">
    <Setter Property="Width" Value="8" />
    <Setter Property="Background" Value="{DynamicResource MainScrollTrackBrush}" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="ScrollBar">
          <Grid Background="{TemplateBinding Background}">
            <Track x:Name="PART_Track" IsDirectionReversed="True">
              <Track.DecreaseRepeatButton>
                <RepeatButton Command="ScrollBar.LineUpCommand"
                              Background="Transparent"
                              Style="{x:Null}"
                              IsTabStop="False"
                              Height="0" />
              </Track.DecreaseRepeatButton>
              <Track.Thumb>
                <Thumb Background="{DynamicResource MainScrollThumbBrush}">
                  <Thumb.Template>
                    <ControlTemplate TargetType="Thumb">
                      <Border x:Name="MainThumbBorder"
                              Margin="1"
                              CornerRadius="4"
                              Background="{TemplateBinding Background}" />
                      <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                          <Setter TargetName="MainThumbBorder"
                                  Property="Background"
                                  Value="{DynamicResource MainScrollThumbHoverBrush}" />
                        </Trigger>
                        <Trigger Property="IsDragging" Value="True">
                          <Setter TargetName="MainThumbBorder"
                                  Property="Background"
                                  Value="{DynamicResource AccentBrush}" />
                        </Trigger>
                      </ControlTemplate.Triggers>
                    </ControlTemplate>
                  </Thumb.Template>
                </Thumb>
              </Track.Thumb>
              <Track.IncreaseRepeatButton>
                <RepeatButton Command="ScrollBar.LineDownCommand"
                              Background="Transparent"
                              Style="{x:Null}"
                              IsTabStop="False"
                              Height="0" />
              </Track.IncreaseRepeatButton>
            </Track>
          </Grid>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <Style TargetType="TextBlock">
    <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}" />
  </Style>

  <!-- Vertical ScrollBar for Settings ScrollViewer (dark theme) -->
  <Style x:Key="SettingsVerticalScrollBarStyle" TargetType="ScrollBar">
    <Setter Property="Width" Value="10" />
    <Setter Property="Background" Value="{DynamicResource SettingsScrollTrackBrush}" />
    <Setter Property="ContextMenu" Value="{x:Null}" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="ScrollBar">
          <Grid Background="{TemplateBinding Background}">
            <Track x:Name="PART_Track" IsDirectionReversed="True">
              <Track.DecreaseRepeatButton>
                <RepeatButton Command="ScrollBar.LineUpCommand"
                              Background="Transparent"
                              Style="{x:Null}"
                              IsTabStop="False"
                              Height="0" />
              </Track.DecreaseRepeatButton>
              <Track.Thumb>
                <Thumb Background="{DynamicResource SettingsScrollThumbBrush}">
                  <Thumb.Template>
                    <ControlTemplate TargetType="Thumb">
                      <Border x:Name="ThumbBorder"
                              Margin="2"
                              CornerRadius="4"
                              Background="{TemplateBinding Background}" />
                      <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                          <Setter TargetName="ThumbBorder" Property="Background" Value="{DynamicResource SettingsScrollThumbHoverBrush}" />
                        </Trigger>
                        <Trigger Property="IsDragging" Value="True">
                          <Setter TargetName="ThumbBorder" Property="Background" Value="{DynamicResource AccentBrush}" />
                        </Trigger>
                      </ControlTemplate.Triggers>
                    </ControlTemplate>
                  </Thumb.Template>
                </Thumb>
              </Track.Thumb>
              <Track.IncreaseRepeatButton>
                <RepeatButton Command="ScrollBar.LineDownCommand"
                              Background="Transparent"
                              Style="{x:Null}"
                              IsTabStop="False"
                              Height="0" />
              </Track.IncreaseRepeatButton>
            </Track>
          </Grid>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- ComboBox for Settings: flat dark look -->
  <Style x:Key="SettingsComboBoxStyle" TargetType="ComboBox">
    <Setter Property="Background" Value="{StaticResource ControlBackgroundBrush}" />
    <Setter Property="BorderBrush" Value="{StaticResource ControlBorderBrush}" />
    <Setter Property="Foreground" Value="{StaticResource ControlForegroundBrush}" />
    <Setter Property="Padding" Value="12,4,12,4" />
    <Setter Property="MinHeight" Value="32" />
    <Setter Property="FocusVisualStyle" Value="{x:Null}" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="ComboBox">
          <Grid>
            <ToggleButton x:Name="ToggleButton"
                          Focusable="False"
                          IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                          ClickMode="Press"
                          Background="Transparent"
                          BorderThickness="0"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch">
              <Border x:Name="OuterBorder"
                      Background="{TemplateBinding Background}"
                      BorderBrush="{TemplateBinding BorderBrush}"
                      BorderThickness="1"
                      CornerRadius="6">
                <Grid>
                  <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="32" />
                  </Grid.ColumnDefinitions>
                  <ContentPresenter x:Name="ContentSite"
                                    Margin="{TemplateBinding Padding}"
                                    VerticalAlignment="Center"
                                    HorizontalAlignment="Left"
                                    Content="{TemplateBinding SelectionBoxItem}"
                                    ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                    ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                    RecognizesAccessKey="True" />
                  <Grid Grid.Column="1"
                        Background="Transparent">
                    <Path Data="M 0 0 L 4 4 L 8 0 Z"
                          Width="12"
                          Height="6"
                          Stretch="Uniform"
                          Fill="{StaticResource ControlForegroundBrush}"
                          HorizontalAlignment="Center"
                          VerticalAlignment="Center" />
                  </Grid>
                </Grid>
              </Border>
            </ToggleButton>

            <Popup x:Name="PART_Popup"
                   Placement="Bottom"
                   IsOpen="{TemplateBinding IsDropDownOpen}"
                   AllowsTransparency="True"
                   Focusable="False"
                   PopupAnimation="Slide">
              <Grid x:Name="DropDown"
                    SnapsToDevicePixels="True"
                    MinWidth="{TemplateBinding ActualWidth}"
                    MaxHeight="{TemplateBinding MaxDropDownHeight}">
                <Border x:Name="DropDownBorder"
                        Background="{StaticResource PanelBackgroundBrush}"
                        BorderBrush="{StaticResource ControlBorderBrush}"
                        BorderThickness="1"
                        CornerRadius="6">
                  <ScrollViewer Margin="0"
                                SnapsToDevicePixels="True">
                    <StackPanel IsItemsHost="True"
                                KeyboardNavigation.DirectionalNavigation="Contained" />
                  </ScrollViewer>
                </Border>
              </Grid>
            </Popup>
          </Grid>
          <ControlTemplate.Triggers>
            <Trigger Property="HasItems" Value="False">
              <Setter TargetName="DropDownBorder" Property="MinHeight" Value="44" />
            </Trigger>
            <Trigger Property="IsEnabled" Value="False">
              <Setter TargetName="OuterBorder" Property="Opacity" Value="0.5" />
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- ComboBox dropdown items (shared) -->
  <Style TargetType="ComboBoxItem">
    <Setter Property="Background" Value="Transparent" />
    <Setter Property="Foreground" Value="{StaticResource ControlForegroundBrush}" />
    <Setter Property="Padding" Value="8,4" />
    <Style.Triggers>
      <Trigger Property="IsHighlighted" Value="True">
        <Setter Property="Background" Value="{StaticResource AccentBrush}" />
        <Setter Property="Foreground" Value="White" />
      </Trigger>
      <Trigger Property="IsSelected" Value="True">
        <Setter Property="Background" Value="{StaticResource AccentBrush}" />
        <Setter Property="Foreground" Value="White" />
      </Trigger>
    </Style.Triggers>
  </Style>

  <Style TargetType="ListView">
    <Setter Property="Background" Value="{StaticResource ControlBackgroundBrush}" />
    <Setter Property="Foreground" Value="{StaticResource ControlForegroundBrush}" />
  </Style>

  <Style TargetType="Button">
    <Setter Property="Background" Value="{StaticResource ButtonBackgroundBrush}" />
    <Setter Property="BorderBrush" Value="{StaticResource ButtonBorderBrush}" />
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="Foreground" Value="{StaticResource ControlForegroundBrush}" />
    <Setter Property="Padding" Value="10,4" />
    <Setter Property="Cursor" Value="Hand" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="Button">
          <Border x:Name="Root"
                  Background="{TemplateBinding Background}"
                  BorderBrush="{TemplateBinding BorderBrush}"
                  BorderThickness="{TemplateBinding BorderThickness}"
                  CornerRadius="4">
            <ContentPresenter HorizontalAlignment="Center"
                              VerticalAlignment="Center" />
          </Border>
          <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
              <Setter TargetName="Root" Property="Background" Value="{StaticResource ButtonBackgroundHoverBrush}" />
              <Setter TargetName="Root" Property="BorderBrush" Value="{StaticResource ButtonBorderHoverBrush}" />
            </Trigger>
            <Trigger Property="IsPressed" Value="True">
              <Setter TargetName="Root" Property="Background" Value="{StaticResource ButtonBackgroundPressedBrush}" />
              <Setter TargetName="Root" Property="BorderBrush" Value="{StaticResource ButtonBorderPressedBrush}" />
            </Trigger>
            <Trigger Property="IsEnabled" Value="False">
              <Setter TargetName="Root" Property="Opacity" Value="0.6" />
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <Style x:Key="PrimaryButtonStyle" TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
    <Setter Property="Background" Value="{StaticResource PrimaryButtonBackgroundBrush}" />
    <Setter Property="BorderBrush" Value="{StaticResource PrimaryButtonBorderBrush}" />
    <Setter Property="Foreground" Value="White" />
  </Style>
</ResourceDictionary>
